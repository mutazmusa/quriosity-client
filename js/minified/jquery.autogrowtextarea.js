var colsDefault=0;var rowsDefault=0;function setDefaultValues(a){colsDefault=52;rowsDefault=a.rows;console.log(colsDefault+" "+rowsDefault)}function bindEvents(a){a.onkeyup=function(){grow(a)}}function grow(d){var c=0;var a=d.value.split("\n");for(var b=a.length-1;b>=0;--b){c+=Math.floor((a[b].length/colsDefault)+1)}console.log(a.length+" "+c);if(c>=rowsDefault){d.rows=c}else{d.rows=rowsDefault}}jQuery.fn.autoGrow=function(){return this.each(function(){setDefaultValues(this);bindEvents(this)})};